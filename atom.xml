<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title><![CDATA[Lufy's Great Route]]></title>
  <subtitle><![CDATA[Cherish each other while moving on together! —— 且行且珍惜！]]></subtitle>
  <link href="/atom.xml" rel="self"/>
  <link href="http://yoursite.com/"/>
  <updated>2014-04-05T14:31:49.641Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name><![CDATA[Monkey D Lufy Yang]]></name>
    <email><![CDATA[ychao228@163.com]]></email>
  </author>
  
  <generator uri="http://zespia.tw/hexo/">Hexo</generator>
  
  <entry>
    <title><![CDATA[【python特殊用法系列1】filter,map,reduce,lambda]]></title>
    <link href="http://yoursite.com/2014/04/05/my-new-post/"/>
    <id>http://yoursite.com/2014/04/05/my-new-post/</id>
    <published>2014-04-05T08:32:21.000Z</published>
    <updated>2014-04-05T13:32:41.000Z</updated>
    <content type="html"><![CDATA[<p>看到这篇文章的人，想必都对python的各种诡谲技巧是又爱又恨，也都抱着掌握这些技巧，改善自己的生活，提升自己的境界；哈哈本文可能不能让大家这么快速做出改变，但可以让大家稍微见识一下python的几种特殊技巧和用法。这篇文章主要是介绍filter、map、reduce、lambda，后续还会继续该系列主题的淬炼，废话不多说，进入主题。</p>
<h3 id="filter">filter</h3>
<h4 id="filter(function,_sequence):">filter(function, sequence):</h4>
<p>对sequence中的item依次执行function(item)，将执行结果为True的item组成一个List/String/Tuple(取决于sequence类型）返回，示例如下：</p>
<pre><code><span class="prompt">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">(x)</span>:</span> <span class="keyword">return</span> x % <span class="number">2</span> != <span class="number">0</span> <span class="keyword">and</span> x % <span class="number">3</span> != <span class="number">0</span>
<span class="prompt">&gt;&gt;&gt; </span>filter(f, range(<span class="number">2</span>, <span class="number">25</span>))
[<span class="number">5</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">13</span>, <span class="number">17</span>, <span class="number">19</span>, <span class="number">23</span>]
<span class="prompt">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">(x)</span>:</span> <span class="keyword">return</span> x != <span class="string">'a'</span>
<span class="prompt">&gt;&gt;&gt; </span>filter(f, <span class="string">"abcdef"</span>)
<span class="string">'bcdef'</span>
</code></pre><h3 id="map">map</h3>
<h4 id="map(function,_sequence):">map(function, sequence):</h4>
<p>对sequence中的item依次执行function（item），将执行结果组成一个List返回<br>另外map也支持多个sequence，当然这也要求function支持相应数量的参数输入，示例如下：</p>
<pre><code><span class="prompt">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">cube</span><span class="params">(x)</span>:</span> <span class="keyword">return</span> x*x*x
<span class="prompt">&gt;&gt;&gt; </span>map(cube, range(<span class="number">1</span>, <span class="number">11</span>))
[<span class="number">1</span>, <span class="number">8</span>, <span class="number">27</span>, <span class="number">64</span>, <span class="number">125</span>, <span class="number">216</span>, <span class="number">343</span>, <span class="number">512</span>, <span class="number">729</span>, <span class="number">1000</span>]
<span class="prompt">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">cube</span><span class="params">(x)</span> :</span> <span class="keyword">return</span> x + x

<span class="prompt">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">add</span><span class="params">(x, y)</span>:</span> <span class="keyword">return</span> x+y
<span class="prompt">&gt;&gt;&gt; </span>map(add, range(<span class="number">8</span>), range(<span class="number">8</span>))
[<span class="number">0</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">14</span>]
</code></pre><h3 id="reduce">reduce</h3>
<h4 id="reduce（function，sequence，starting_value):">reduce（function，sequence，starting_value):</h4>
<p>对sequence中的item顺序迭代调用function，如果有starting_value，还可以作为初始值调用，例如可以用来对List求和，示例如下：</p>
<pre><code><span class="prompt">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">add</span><span class="params">(x,y)</span>:</span> <span class="keyword">return</span> x + y
 &gt;&gt;&gt; reduce(add, range(<span class="number">1</span>, <span class="number">11</span>))
（注：<span class="number">1</span>+<span class="number">2</span>+<span class="number">3</span>+<span class="number">4</span>+<span class="number">5</span>+<span class="number">6</span>+<span class="number">7</span>+<span class="number">8</span>+<span class="number">9</span>+<span class="number">10</span>）
<span class="prompt">&gt;&gt;&gt; </span>reduce(add, range(<span class="number">1</span>, <span class="number">11</span>), <span class="number">20</span>)
（注：<span class="number">1</span>+<span class="number">2</span>+<span class="number">3</span>+<span class="number">4</span>+<span class="number">5</span>+<span class="number">6</span>+<span class="number">7</span>+<span class="number">8</span>+<span class="number">9</span>+<span class="number">10</span>+<span class="number">20</span>）
</code></pre><h3 id="lambda：">lambda：</h3>
<p>这是python支持一种有趣的语法，它允许你快速定义单行的最小函数，类似C语言中的宏，可以用在任何需要函数的地方，示例如下：</p>
<pre><code><span class="prompt">&gt;&gt;&gt; </span>g = <span class="keyword">lambda</span> x: x * <span class="number">2</span>
<span class="prompt">&gt;&gt;&gt; </span>g(<span class="number">3</span>)
<span class="number">6</span>
<span class="prompt">&gt;&gt;&gt; </span>(<span class="keyword">lambda</span> x: x * <span class="number">2</span>)(<span class="number">3</span>)
<span class="number">6</span>
</code></pre><p>我们也可以把filter map reduce 和lambda结合起来用，函数就可以简单的写成一行。例如</p>
<pre><code>&gt;&gt;&gt;kmpathes = <span class="built_in">filter</span>(lambda kmpath: kmpath, map(lambda kmpath: <span class="keyword">string</span>.strip(kmpath), <span class="keyword">string</span>.<span class="built_in">split</span>(l, <span class="string">':'</span>)))
</code></pre><p>看起来麻烦，其实就像用语言来描述问题一样，非常优雅。对 l 中的所有元素以’:’做分割，得出一个列表。对这个列表的每一个元素做字符串strip，形成一个列表。对这个列表的每一个元素做直接返回操作(这个地方可以加上过滤条件限制)，最终获得一个字符串被’:’分割的列表，列表中的每一个字符串都做了strip，并可以对特殊字符串过滤。</p>
]]></content>
    
    
      <category term="PYTHON" scheme="http://yoursite.com/tags/PYTHON/"/>
    
      <category term="编程技巧" scheme="http://yoursite.com/tags/%E7%BC%96%E7%A8%8B%E6%8A%80%E5%B7%A7/"/>
    
      <category term="编程开发" scheme="http://yoursite.com/categories/%E7%BC%96%E7%A8%8B%E5%BC%80%E5%8F%91/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[欢迎来到路飞的新世界]]></title>
    <link href="http://yoursite.com/2014/03/25/new-post/"/>
    <id>http://yoursite.com/2014/03/25/new-post/</id>
    <published>2014-03-25T03:18:54.000Z</published>
    <updated>2014-03-25T03:40:47.000Z</updated>
    <content type="html"><![CDATA[]]></content>
    
    
  </entry>
  
  <entry>
    <title><![CDATA[Hello World]]></title>
    <link href="http://yoursite.com/2014/03/23/hello-world/"/>
    <id>http://yoursite.com/2014/03/23/hello-world/</id>
    <published>2014-03-23T07:09:48.000Z</published>
    <updated>2014-03-23T07:09:48.000Z</updated>
    <content type="html"><![CDATA[<p>Welcome to <a href="http://zespia.tw/hexo" target="_blank">Hexo</a>! This is your very first post. Check <a href="http://zespia.tw/hexo/docs" target="_blank">documentation</a> to learn how to use.</p>
]]></content>
    
    
  </entry>
  
</feed>
